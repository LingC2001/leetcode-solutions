---
title: 128. Longest Consecutive Sequence
difficulty: medium
tags: [arrays, hashing]
---

import Code from '@/components/Code';

## Problem Statement

Given an unsorted array of integers `nums`, find the length of the longest consecutive elements sequence. You must write an algorithm that runs in O(n) time.

[View on LeetCode →](https://leetcode.com/problems/longest-consecutive-sequence/)

---

## Examples

### Example 1

```
Input: nums = [100, 4, 200, 1, 3, 2]
Output: 4
Explanation: The longest consecutive sequence is [1, 2, 3, 4], length 4.
```

### Example 2

```
Input: nums = [0, 3, 7, 2, 5, 8, 4, 6, 0, 1]
Output: 9
```

---

## Approach

The solution uses a set for O(1) lookups and identifies the start of a consecutive sequence by checking if the previous number `(n - 1)` is not in the set. For each sequence start, it counts the length of consecutive numbers by incrementing from `n` until the sequence ends.
- Convert the list to a set for fast membership testing.
- Iterate over the set:
  - For each number, check if it is the start of a sequence (i.e., `n - 1` is not in the set).
  - If yes, count consecutive numbers incrementally.
- Track and update the maximum sequence length found.
- Return the maximum length after processing all numbers.

This approach avoids sorting and achieves linear time complexity.

---

## Complexity Analysis

**Time Complexity:** O(n), where n is the number of elements in `nums`. Each element is processed at most twice.

**Space Complexity:** O(n), used by the set to store the elements.

---

## Solutions

### Python

<Code problemNumber={128} difficulty="medium" lang="python" />

### C++

<Code problemNumber={128} difficulty="medium" lang="cpp" />

### Java

<Code problemNumber={128} difficulty="medium" lang="java" />

---

## Key Insights

- Only start counting a sequence when `n - 1` is not in the set — this avoids redundant work.
- Converting to a set is the key to achieving O(n) instead of O(n log n) via sorting.
- Each element is the start of at most one sequence, so the inner while loop runs O(n) total across the entire algorithm.
