---
title: 424. Longest Repeating Character Replacement
difficulty: medium
tags: [sliding-window, strings, hashing]
---

import Code from '@/components/Code';

## Problem Statement

You are given a string `s` and an integer `k`. You can choose any character and change it to any other uppercase English character, at most `k` times. Return the length of the longest substring containing the same letter you can get after performing the above operations.

[View on LeetCode →](https://leetcode.com/problems/longest-repeating-character-replacement/)

---

## Examples

### Example 1

```
Input: s = "ABAB", k = 2
Output: 4
Explanation: Replace the two 'A's with 'B's (or vice versa) → "BBBB".
```

### Example 2

```
Input: s = "AABABBA", k = 1
Output: 4
Explanation: Replace one 'A' with 'B' at index 4 → "AABBBBA" → longest is 4.
```

---

## Approach

**Variable sliding window** with a character frequency map:

* Use `left` and `right` pointers and a frequency map of characters in the window.
* Track `max_freq` — the count of the most frequent character in the current window.
* If `(window_size - max_freq) > k`, the window requires more than `k` replacements — shrink from the left.
* Key insight: we never need to shrink below the largest window seen so far, so `max_freq` is never decreased.
* The answer is the maximum window size encountered.

---

## Complexity Analysis

**Time Complexity:** O(n), where n is the length of `s`. Each character is processed at most twice.

**Space Complexity:** O(1), since only 26 uppercase letters are tracked.

---

## Solutions

### Python

<Code problemNumber={424} difficulty="medium" lang="python" />

### C++

<Code problemNumber={424} difficulty="medium" lang="cpp" />

### Java

<Code problemNumber={424} difficulty="medium" lang="java" />

---

## Key Insights

- The validity condition is `window_size - max_freq <= k` — replacements needed = non-dominant characters in window.
- `max_freq` is never decremented: if a smaller window can't beat the current best, there's no point tracking a lower max.
- The window only ever grows or stays the same size, so the right pointer always advances.
