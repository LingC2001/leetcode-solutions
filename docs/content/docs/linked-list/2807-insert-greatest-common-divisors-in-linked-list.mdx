---
title: 2807. Insert Greatest Common Divisors in Linked List
difficulty: medium
tags: [linked-list, math]
---

import Code from '@/components/Code';

## Problem Statement

Given the head of a linked list, for every pair of adjacent nodes, insert a new node with value equal to the **greatest common divisor (GCD)** of their values. Return the modified linked list.

[View on LeetCode →](https://leetcode.com/problems/insert-greatest-common-divisors-in-linked-list/)

---

## Examples

### Example 1

```
Input: head = [18, 6, 10, 3]
Output: [18, 6, 6, 2, 10, 1, 3]
Explanation: GCD(18,6)=6, GCD(6,10)=2, GCD(10,3)=1
```

### Example 2

```
Input: head = [7]
Output: [7]
```

---

## Approach

Traverse the list node by node. For each pair of adjacent nodes `curr` and `next`:
1. Compute `gcd(curr.val, next.val)` using the **Euclidean algorithm**.
2. Create a new node with this GCD value.
3. Insert it between `curr` and `next`.
4. Advance `curr` to what was originally `next`.

**Euclidean GCD:** `gcd(a, b) = gcd(b, a % b)` until `b == 0`, then return `a`.

Go's standard library does not include GCD for integers, so it is implemented manually.

---

## Complexity Analysis

**Time Complexity:** O(n · log(min(a, b))), where n is the list length and log factor comes from GCD computation.

**Space Complexity:** O(n) for the n-1 inserted nodes.

---

## Solutions

### Go

<Code problemNumber={2807} difficulty="medium" lang="go" />

---

## Key Insights

- Save the original `next` pointer before inserting the new node to avoid losing the rest of the list.
- The Euclidean algorithm is the standard efficient GCD method: `gcd(a, b) = gcd(b, a % b)`.
- After inserting a GCD node, skip over it by advancing to the original `next` — never compare adjacent GCD nodes.
