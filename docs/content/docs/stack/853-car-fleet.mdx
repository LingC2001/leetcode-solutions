---
title: 853. Car Fleet
difficulty: medium
tags: [stack, sorting, monotonic-stack]
---

import Code from '@/components/Code';

## Problem Statement

There are `n` cars going to the same destination along a one-lane road `target` miles away. You are given arrays `position` and `speed` of length `n`. A car can never pass another car ahead of it, but it can catch up and drive bumper-to-bumper. A **car fleet** is a set of cars driving at the same position and speed. Return the number of car fleets that will arrive at the destination.

[View on LeetCode →](https://leetcode.com/problems/car-fleet/)

---

## Examples

### Example 1

```
Input: target = 12, position = [10, 8, 0, 5, 3], speed = [2, 4, 1, 1, 3]
Output: 3
Explanation: Cars at 10 and 8 form a fleet. Car at 0 is alone. Cars at 5 and 3 form a fleet.
```

### Example 2

```
Input: target = 10, position = [3], speed = [3]
Output: 1
```

### Example 3

```
Input: target = 100, position = [0, 2, 4], speed = [4, 2, 1]
Output: 1
```

---

## Approach

1. **Compute arrival times:** For each car, `time = (target - position) / speed`.
2. **Sort by position descending** (closest to target first).
3. **Greedy fleet counting:** Iterate through sorted cars:
   - If a car's arrival time is **greater** than the previous maximum, it cannot catch the fleet ahead — it forms a **new fleet**.
   - Otherwise it joins the fleet ahead (arrives no later than the car in front).
4. Count the number of new fleets formed.

---

## Complexity Analysis

**Time Complexity:** O(n log n), dominated by sorting.

**Space Complexity:** O(n) for storing paired position-time data.

---

## Solutions

### Python

<Code problemNumber={853} difficulty="medium" lang="python" />

### C++

<Code problemNumber={853} difficulty="medium" lang="cpp" />

### Java

<Code problemNumber={853} difficulty="medium" lang="java" />

---

## Key Insights

- Sort by position descending so that each car's "barrier" (the car immediately ahead) has already been processed.
- If a car's arrival time ≤ the current fleet's time, it merges — it physically can't arrive earlier.
- The maximum arrival time seen so far represents the slowest active fleet; this is the only comparison needed.
